const mongoose = require("mongoose");
const Track = require("./schemas/track");
const dotenv = require("dotenv");

dotenv.config();

const seedTrack = [
  {
    trackName: "영진전문대 글로벌 캠퍼스 강의실 500m",
    totalDistance: 500,
    user: {
      userId: 1,
      name: "3조",
    },
    description: "산책하기 좋네요",
    event: "B",
    checkPoint: [
      [128.4636390209198, 35.947004531233944],
      [128.4634029865265, 35.9485853018877],
      [128.46455097198486, 35.94923670916419],
      [128.46457242965698, 35.947699379372835],
    ],
    gps: {
      coordinates: [
        [128.46389651298523, 35.94679607560072],
        [128.46373558044434, 35.94685687521724],
        [128.4636390209198, 35.947004531233944],
        [128.46349954605103, 35.947134815725455],
        [128.46349954605103, 35.947351956067216],
        [128.4634566307068, 35.94761252368965],
        [128.4634566307068, 35.947777549406084],
        [128.46344590187073, 35.94800337351212],
        [128.46344590187073, 35.94822919697274],
        [128.46344590187073, 35.948402906887864],
        [128.4634029865265, 35.9485853018877],
        [128.4634029865265, 35.94874164012386],
        [128.4634029865265, 35.948906663482006],
        [128.46339225769043, 35.94911511354696],
        [128.4634244441986, 35.94931487767647],
        [128.46362829208374, 35.949393046111425],
        [128.46383213996887, 35.949393046111425],
        [128.46407890319824, 35.94937567535478],
        [128.46428275108337, 35.94937567535478],
        [128.4644114971161, 35.94935830459433],
        [128.46455097198486, 35.94923670916419],
        [128.46456170082092, 35.94901957400212],
        [128.46456170082092, 35.94881980912595],
        [128.46458315849304, 35.94863741466747],
        [128.46458315849304, 35.94839422140117],
        [128.46458315849304, 35.94822051146697],
        [128.46456170082092, 35.94809022876565],
        [128.46457242965698, 35.94788177599676],
        [128.46457242965698, 35.947699379372835],
        [128.46457242965698, 35.947473554397945],
        [128.46457242965698, 35.94729115683165],
        [128.46449732780454, 35.94711744447232],
        [128.46439003944397, 35.946952417377204],
        [128.46426129341125, 35.946813446924494],
        [128.46416473388672, 35.9467700186079],
        [128.46399307250977, 35.94682213258496],
      ],
    },
    altitude: [
      40, 43, 43, 45, 48, 46, 40, 41, 43, 48, 46, 42, 42, 42, 47, 40, 41, 48, 42, 49,
      40, 42, 40, 44, 41, 41, 47, 46, 42, 45, 46, 45, 42, 46, 47, 46,
    ],
    start_latlng: {
      coordinates: [128.46389651298523, 35.94679607560072],
    },
    end_latlng: {
      coordinates: [128.46399307250977, 35.94682213258496],
    },
  },
  {
    trackName: "경북대학교 한바퀴",
    totalDistance: 500,
    user: {
      userId: 1,
      name: "3조",
    },
    description: "산책하기 좋네요",
    event: "B",
    checkPoint: [
      [128.61265182495117, 35.89560358073926],
      [128.6085319519043, 35.89210960639962],
      [128.6145830154419, 35.8931352168458],
    ],
    gps: {
      coordinates: [
        [128.61303806304932, 35.89588170142396],
        [128.61265182495117, 35.89560358073926],
        [128.61237287521362, 35.895290693801016],
        [128.61194372177124, 35.89487350929305],
        [128.61162185668942, 35.89457800226974],
        [128.61117124557495, 35.89421296265922],
        [128.61084938049316, 35.89386530432244],
        [128.6104416847229, 35.89344811230307],
        [128.6100125312805, 35.8931525999592],
        [128.60951900482178, 35.89271802097918],
        [128.6090898513794, 35.89237035607764],
        [128.6085319519043, 35.89210960639962],
        [128.60801696777344, 35.891796705652425],
        [128.60726594924927, 35.89136211922988],
        [128.606858253479, 35.89117090044829],
        [128.6064076423645, 35.890979681204854],
        [128.60582828521729, 35.890736310590775],
        [128.60514163970947, 35.89038863698731],
        [128.6043906211853, 35.88997142664797],
        [128.60406875610352, 35.88976282065393],
        [128.60376834869382, 35.889189151336524],
        [128.60376834869382, 35.888685014262876],
        [128.60402584075928, 35.887954879017514],
        [128.60436916351318, 35.88739858097851],
        [128.60490560531616, 35.886651049334596],
        [128.6056137084961, 35.88656412659245],
        [128.6062788963318, 35.88656412659245],
        [128.6074161529541, 35.88642505000656],
        [128.60799551010132, 35.88626858855547],
        [128.60836029052732, 35.885833971791584],
        [128.6087679862976, 35.88552104624466],
        [128.60945463180542, 35.885312428526404],
        [128.60994815826416, 35.885833971791584],
        [128.60996961593628, 35.886355511622014],
        [128.6105489730835, 35.886355511622014],
        [128.6111283302307, 35.886355511622014],
        [128.61196517944336, 35.88632074240684],
        [128.61286640167236, 35.886146896102005],
        [128.61372470855713, 35.88560797013171],
        [128.61411094665527, 35.884808266771834],
        [128.61456155776978, 35.88508642537816],
        [128.61499071121216, 35.885347198184284],
        [128.6154842376709, 35.885799202347435],
        [128.61565589904785, 35.88663366479379],
        [128.61584901809692, 35.88715519935755],
        [128.61606359481812, 35.8876245775282],
        [128.61640691757202, 35.88823302657146],
        [128.61664295196533, 35.8886154778629],
        [128.61685752868652, 35.888928391181906],
        [128.61625671386716, 35.889484678473636],
        [128.6161708831787, 35.89005834564997],
        [128.61599922180176, 35.890579857658125],
        [128.61561298370358, 35.89104921552864],
        [128.61546277999878, 35.891466420188856],
        [128.61522674560547, 35.8919531561806],
        [128.61492633819577, 35.892509422221465],
        [128.61475467681885, 35.89278755377628],
        [128.6145830154419, 35.8931352168458],
        [128.6143684387207, 35.8937436235439],
        [128.6141324043274, 35.8941086653185],
        [128.6139178276062, 35.89436940841269],
        [128.6136817932129, 35.89497780562615],
        [128.61421823501587, 35.89534284170994],
        [128.61376762390137, 35.89567311100204],
        [128.6132526397705, 35.89588170142396],
      ],
    },
    altitude: [
      143, 142, 141, 144, 145, 143, 142, 144, 143, 142, 142, 141, 143, 144, 141, 142,
      141, 142, 141, 138, 137, 135, 134, 133, 132, 129, 126, 127, 128, 129, 124, 122,
      120, 113, 115, 111, 110, 107, 102, 111, 115, 120, 122, 124, 125, 123, 122, 125,
      128, 129, 130, 131, 132, 133, 135, 136, 138, 140, 141, 142, 144, 146, 143, 144,
      144,
    ],
    start_latlng: {
      coordinates: [128.61303806304932, 35.89588170142396],
    },
    end_latlng: {
      coordinates: [128.6132526397705, 35.89588170142396],
    },
  },
  {
    trackName: "경북대학교 가로질러서",
    totalDistance: 250,
    user: {
      userId: 1,
      name: "3조",
    },
    description: "경치가 좋아요",
    event: "B",
    checkPoint: [
      [128.61265182495117, 35.89560358073926],
      [128.6085319519043, 35.89210960639962],
      [128.6145830154419, 35.8931352168458],
    ],
    gps: {
      coordinates: [
        [128.60915422439575, 35.89247465570841],
        [128.60956192016602, 35.891987922922645],
        [128.60986232757568, 35.891744555407676],
        [128.6100125312805, 35.89129258518092],
        [128.6100125312805, 35.89091014682002],
        [128.60979795455933, 35.890545090297806],
        [128.60971212387085, 35.89002357806062],
        [128.60958337783813, 35.889571598009915],
        [128.60932588577268, 35.88906746337123],
        [128.60932588577268, 35.8886502460705],
        [128.6092185974121, 35.88825041076117],
        [128.6091113090515, 35.887746267710874],
        [128.6091113090515, 35.887433349720446],
        [128.6091113090515, 35.887016123809744],
        [128.60902547836304, 35.88659889570075],
        [128.60902547836304, 35.886199050033525],
        [128.6091113090515, 35.885729663413315],
        [128.60851049423218, 35.88567750917267],
        [128.60814571380615, 35.885973049415526],
        [128.60788822174072, 35.88626858855547],
        [128.60724449157715, 35.88637289622386],
        [128.60668659210205, 35.88651197290135],
        [128.60606431961057, 35.88658151114852],
        [128.60552787780762, 35.88663366479379],
        [128.60490560531616, 35.88673797198133],
        [128.60458374023438, 35.88715519935755],
        [128.60432624816895, 35.887502887158504],
        [128.60411167144775, 35.887902726242366],
        [128.60389709472656, 35.88826779494702],
        [128.60374689102173, 35.88871978243997],
        [128.6037039756775, 35.88917176735292],
        [128.60387563705444, 35.88960636579773],
        [128.604154586792, 35.88988450755058],
        [128.60458374023438, 35.89016264832639],
        [128.60499143600464, 35.890371253267055],
        [128.60554933547974, 35.89051032292216],
        [128.60589265823364, 35.89091014682002],
        [128.60636472702026, 35.891014448374364],
        [128.60683679580688, 35.89120566753384],
        [128.60739469528195, 35.891483803668656],
        [128.60780239105225, 35.891744555407676],
        [128.60833883285522, 35.89205745636097],
        [128.60891819000244, 35.89228343961373],
      ],
    },
    altitude: [
      143, 142, 141, 144, 145, 143, 142, 144, 143, 142, 142, 141, 143, 144, 141, 142,
      141, 142, 141, 138, 137, 135, 134, 133, 132, 129, 126, 127, 128, 129, 124, 122,
      120, 113, 115, 111, 110, 107, 102, 111, 115, 120, 122,
    ],
    start_latlng: {
      coordinates: [128.60915422439575, 35.89247465570841],
    },
    end_latlng: {
      coordinates: [128.60891819000244, 35.89228343961373],
    },
  },
];

const connect = () => {
  if (process.env.NODE_ENV !== "production") {
    mongoose.set("debug", true);
  }

  mongoose.connect(
    process.env.MONGO_CONFIG,
    {
      dbName: "gps",
      useNewUrlParser: true,
    },
    (error) => {
      if (error) {
        console.log("몽고디비 연결 에러", error);
      } else {
        console.log("몽고디비 연결 성공");
        const seedDB = async () => {
          await Track.deleteMany({});
          await Track.insertMany(seedTrack);
        };
        seedDB().then(() => {
          mongoose.connection.close();
        });
      }
    }
  );
};
mongoose.connection.on("error", (error) => {
  console.error("몽고디비 연결 에러", error);
});

connect();
